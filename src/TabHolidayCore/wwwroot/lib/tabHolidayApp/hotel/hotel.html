<div class="container" ng-controller="HotelController">
    <h3 class="booking-title">Hotel Management</h3>
    <form class="booking-item-dates-change mb40" name="hotelForm">
        <div class="row">
            <div class="col-md-4 col-xs-10">
                <div class="form-group form-group-sm form-group-icon-right">
                    <i class="fa fa-check-circle input-icon cstm-fa-position cstm-fa-valid" ng-hide="hotelForm['Name' +$index].$invalid || hotelForm['Name' +$index].$pristine"></i>
                    <i class="fa fa-times-circle input-icon cstm-fa-position cstm-fa-invalid" ng-show="hotelForm['Name' +$index].$invalid && ( hotelForm['Name' +$index].$dirty || hotelForm['Name' +$index].$touched)"></i>
                    <label>Name</label>
                    <input class="form-control" type="text" ng-model="hotel.Name" name="Name{{$index}}" required ng-minlength="5" ng-maxlength="50" />
                    <span class="cstm-error-message" ng-messages="hotelForm['Name' +$index].$error"
                          ng-show="hotelForm['Name' +$index].$dirty || hotelForm['Name' +$index].$touched">
                        <span ng-message="required">Required name!</span>
                        <span ng-message="minlength">Minimum required length 5!</span>
                        <span ng-message="maxlength">Maximum allowed length 50!</span>
                    </span>
                </div>
            </div>

            <div class="col-md-4 col-xs-10">
                <div class="form-group form-group-sm form-group-icon-right">
                    <i class="fa fa-check-circle input-icon cstm-fa-position cstm-fa-valid" ng-hide="hotelForm['TaggedLocation' +$index].$invalid || hotelForm['TaggedLocation' +$index].$pristine"></i>
                    <i class="fa fa-times-circle input-icon cstm-fa-position cstm-fa-invalid" ng-show="hotelForm['TaggedLocation' +$index].$invalid && ( hotelForm['TaggedLocation' +$index].$dirty || hotelForm['TaggedLocation' +$index].$touched)"></i>
                    <label>Tagged Location</label>
                    <input class="form-control" type="text" ng-model="hotel.TaggedLocation" name="TaggedLocation{{$index}}" required ng-minlength="5" ng-maxlength="100" />
                    <span class="cstm-error-message" ng-messages="hotelForm['TaggedLocation' +$index].$error"
                          ng-show="hotelForm['TaggedLocation' +$index].$dirty || hotelForm['TaggedLocation' +$index].$touched">
                        <span ng-message="required">Required TaggedLocation!</span>
                        <span ng-message="minlength">Minimum required length 5!</span>
                        <span ng-message="maxlength">Maximum allowed length 100!</span>
                    </span>
                </div>
            </div>

            <div class="col-md-4 col-xs-10">
                <div class="form-group form-group-sm form-group-icon-right">
                    <i class="fa fa-check-circle input-icon cstm-fa-position cstm-fa-valid" ng-hide="hotelForm['DetailedLocation' +$index].$invalid || hotelForm['DetailedLocation' +$index].$pristine"></i>
                    <i class="fa fa-times-circle input-icon cstm-fa-position cstm-fa-invalid" ng-show="hotelForm['DetailedLocation' +$index].$invalid && ( hotelForm['DetailedLocation' +$index].$dirty || hotelForm['DetailedLocation' +$index].$touched)"></i>
                    <label>Detailed Location</label>
                    <input class="form-control" type="text" ng-model="hotel.DetailedLocation" name="DetailedLocation{{$index}}" required ng-minlength="5" ng-maxlength="200" />
                    <span class="cstm-error-message" ng-messages="hotelForm['DetailedLocation' +$index].$error"
                          ng-show="hotelForm['DetailedLocation' +$index].$dirty || hotelForm['DetailedLocation' +$index].$touched">
                        <span ng-message="required">Required DetailedLocation!</span>
                        <span ng-message="minlength">Minimum required length 5!</span>
                        <span ng-message="maxlength">Maximum allowed length 200!</span>
                    </span>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-3 col-xs-10">
                <div class="form-group form-group-sm form-group-icon-right" display: inline-block;>
                    <!--<i class="fa fa-check-circle input-icon cstm-fa-position cstm-fa-valid" ng-hide="hotelForm['Lattitude' +$index].$invalid || hotelForm['Lattitude' +$index].$pristine"></i>
                    <i class="fa fa-times-circle input-icon cstm-fa-position cstm-fa-invalid" ng-show="hotelForm['Lattitude' +$index].$invalid && ( hotelForm['Lattitude' +$index].$dirty || hotelForm['Lattitude' +$index].$touched)"></i>-->
                    <label>GPS Coordinates (Lattitude)</label>
                    <input class="form-control" type="text" ng-model="hotel.Lattitude" name="Lattitude{{$index}}" />
                    <!--<span class="cstm-error-message" ng-messages="hotelForm['Lattitude' +$index].$error"
                          ng-show="hotelForm['Lattitude' +$index].$dirty || hotelForm['Lattitude' +$index].$touched">                      
                    </span>-->
                </div>
            </div>
            <div class="col-md-3 col-xs-10">
                <div class="form-group form-group-sm form-group-icon-right" display: inline-block;>
                    <label>GPS Coordinates (Longitude)</label>
                    <input class="form-control" type="text" ng-model="hotel.Longitude" name="Longitude" />

                </div>
            </div>
            <div class="col-md-3 col-xs-10">
                <div class="form-group form-group-sm form-group-icon-left">
                    <i class="fa fa-check-circle input-icon cstm-fa-position cstm-fa-valid" ng-hide="hotelForm['StarRating' +$index].$invalid || hotelForm['StarRating' +$index].$pristine"></i>
                    <i class="fa fa-times-circle input-icon cstm-fa-position cstm-fa-invalid" ng-show="hotelForm['StarRating' +$index].$invalid && ( hotelForm['StarRating' +$index].$dirty || hotelForm['StarRating' +$index].$touched)"></i>
                    <label>Star Rating</label>
                    <select class="form-control" ng-model="hotel.StarRating" name="StarRating{{$index}}" require-option>
                        <option value="0">--Select Star Rating--</option>
                        <option ng-repeat="StarRating in StarRatings" value="{{StarRating.StarRatingId}}">{{StarRating.Name}}</option>
                    </select>
                    <span class="cstm-error-message" ng-messages="hotelForm['StarRating' +$index].$error"
                          ng-show="hotelForm['StarRating' +$index].$dirty || hotelForm['StarRating' +$index].$touched">
                        <span ng-message="requireOption">Required Star Rating!</span>
                    </span>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-3 col-xs-10">
                <div class="form-group form-group-sm form-group-icon-right">
                    <i class="fa fa-check-circle input-icon cstm-fa-position cstm-fa-valid" ng-hide="hotelForm['EmailId' +$index].$invalid || hotelForm['EmailId' +$index].$pristine"></i>
                    <i class="fa fa-times-circle input-icon cstm-fa-position cstm-fa-invalid" ng-show="hotelForm['EmailId' +$index].$invalid && ( hotelForm['EmailId' +$index].$dirty || hotelForm['EmailId' +$index].$touched)"></i>
                    <label>Email Id</label>
                    <input class="form-control" type="text" ng-model="hotel.EmailId" name="EmailId{{$index}}" required ng-pattern="/^[^\s@]+@[^\s@]+\.[^\s@]{2,}$/" />
                    <span class="cstm-error-message" ng-messages="hotelForm['EmailId' +$index].$error"
                          ng-show="hotelForm['EmailId' +$index].$dirty || hotelForm['EmailId' +$index].$touched">
                        <span ng-message="required">Required Email Id!</span>
                        <span ng-message="pattern">Not valid email-id!</span>
                    </span>
                </div>
            </div>

            <div class="col-md-3 col-xs-10">
                <div class="form-group form-group-sm form-group-icon-right">
                    <i class="fa fa-check-circle input-icon cstm-fa-position cstm-fa-valid" ng-hide="hotelForm['PhoneNumber' +$index].$invalid || hotelForm['PhoneNumber' +$index].$pristine"></i>
                    <i class="fa fa-times-circle input-icon cstm-fa-position cstm-fa-invalid" ng-show="hotelForm['PhoneNumber' +$index].$invalid && ( hotelForm['PhoneNumber' +$index].$dirty || hotelForm['PhoneNumber' +$index].$touched)"></i>
                    <label>Phone Number</label>
                    <input class="form-control" type="text" ng-model="hotel.PhoneNumber" name="PhoneNumber{{$index}}" required ng-pattern="/^(?=.*\d)[\d]{10,10}$/" />
                    <span class="cstm-error-message" ng-messages="hotelForm['PhoneNumber' +$index].$error"
                          ng-show="hotelForm['PhoneNumber' +$index].$dirty || hotelForm['PhoneNumber' +$index].$touched">
                        <span ng-message="required">Please enter phone number!</span>
                        <span ng-message="pattern">
                            Contact number should be 10 digits long and should contain only numbers!
                        </span>
                    </span>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-12" style="margin-top:15px">
                <button class="btn btn-primary pull-right" ng-click="FacilityMode = 'add'">Add Facility<i class="fa fa-plus-square-o"></i></button>
            </div>
        </div>



        <div class="" ng-show="FacilityMode == 'add'">
            <hr style="border-bottom:1px solid #e27513" />
            <h4>Add Hotel Facilities</h4>
            <div class="row">
                <div ng-repeat="Facility in Facilities" class="col-md-3 " style="padding-bottom:5px;padding-top:5px">
                    <div class="col-md-2 cstm-booking-item-features"> <i class="fa" ng-class="[Facility.Class, {active : Facility.Selected}]" ng-click="SelectFacility(Facility)"></i></div>
                    <div class="col-md-9">{{Facility.Name}}</div>
                </div>
            </div>

        </div>
        <hr style="border-bottom:1px solid gray" ng-show="FacilityMode == 'add'" />
        <div class="row" ng-show="FacilityMode == 'add'">

            <div class="col-md-12" style="margin-top:15px">
                <button class="btn btn-primary pull-right" ng-click="AddFacilities()">Add<i class="fa fa-plus"></i></button>
            </div>
        </div>

        <div class="" ng-show="FacilityMode == 'view'">
            <hr style="border-bottom:1px solid #e27513" />
            <h4>Hotel Facilities</h4>
            <div class="row">
                <div ng-repeat="Facility in Hotel.Facilities" class="col-md-3 " style="padding-bottom:5px;padding-top:5px">
                    <div class="col-md-2 cstm-booking-item-features"> <i class="fa" ng-class="[Facility.Class]"></i></div>
                    <div class="col-md-9">{{Facility.Name}}</div>
                </div>
            </div>
        </div>

        <hr style="border-bottom:1px solid #e27513" />
        <div class="row">
            <div class="col-md-6">
                <h4>Meals</h4>
            </div>
            <div class="col-md-6">
                <button class="btn btn-primary pull-right" ng-show="MealMode == 'view'" ng-click="AddMeals()"> Add Meal <i class="fa fa-plus-circle"></i></button>
            </div>
        </div>

        <div class="row" ng-show="MealMode == 'add'">
            <div class="col-md-4" ng-repeat="Meal in Meals">
                <label>
                    <input type="checkbox" ng-model="Meal.Selected" style="margin-right:10px">{{Meal.Name}}
                </label>
            </div>
        </div>

        <hr style="border-bottom:1px solid gray" ng-show="MealMode == 'add'" />
        <div class="row" ng-show="MealMode == 'add'">
            <div class="col-md-12">
                <button class="btn btn-primary pull-right" ng-click="PushMeals()">Done!<i class="fa fa-thumbs-up"></i></button>
            </div>
        </div>

        <div class="row" ng-show="MealMode == 'view'">
            <div class="col-md-4" ng-repeat="Meal in Hotel.Meals">
                {{Meal.Name}}
            </div>
        </div>
        <hr style="border-bottom:1px solid #e27513" />
        <div class="row">
            <div class="col-md-12">
                <span class="pull-right">
                    <button type="submit" class="btn btn-primary" ng-click="Save()" ng-disabled="hotelForm.$invalid">Save</button>
                    <button class="btn btn-default">Cancel</button>
                </span>
            </div>
        </div>
    </form>
</div>

